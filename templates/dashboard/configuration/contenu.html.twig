{% extends 'dashboard/_base.html.twig' %}

{% block dashboardPageContent %}
<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
	<!-- start page title -->
	<div class="page-title-box">
		<div class="container-fluid">
			<div class="row align-items-center">
				<div class="col-sm-6">
					<div class="page-title">
						<h4>Configuration du contenus</h4>
						<ol class="breadcrumb m-0">
							<li class="breadcrumb-item">
								<a href="javascript: void(0);">Vazimarket</a>
							</li>
							<li class="breadcrumb-item">
								<a href="javascript: void(0);">Marketplace</a>
							</li>
							<li class="breadcrumb-item active">Configuration du contenu</li>
						</ol>
					</div>
				</div>
				<div class="col-sm-6">
					<div
						class="float-end d-none d-sm-block">{# <a href="" class="btn btn-success">Ajouter un attribut</a> #}
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- end page title -->

	<div class="container-fluid" id="configuration-createur" configuration-id="{{configuration.getId}}" createur-id="{{app.user.id}}">

		<div class="page-content-wrapper">
			<div class="row">

				<div class="col-xl-12">
					<div class="card col-lg">
						<div class="card-body">
							<p class="card-title-desc">Gerer le contenu</p>

							<div class="row">
								<div class="">
									<div class="d-flex justify-content-between my-2" style="cursor:pointer;"  onclick="toggleField('open-field-cgv')" >
										<label for="" class="p-0 m-0">Remplir les Conditions générales de vente</label>
										<p class="p-0 m-0" style="cursor:pointer; px-3" onclick="toggleField('open-field-cgv')">
											<i class="mdi mdi-plus"></i>
										</p>
									</div>
									<div id="open-field-cgv">
										<div id="cgv"></div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="card col-lg">
						<div class="card-body">
							<div class="row">						

                                <div class="">
									<div class="d-flex justify-content-between my-2" style="cursor:pointer;"  style="cursor:pointer;" onclick="toggleField('open-field-mention-legale')">
										<label for="" class="p-0 m-0">Remplir les Mentions légales</label>
										<p class="p-0 m-0" style="cursor:pointer; px-3" onclick="toggleField('open-field-mention-legale')">
											<i class="mdi mdi-plus"></i>
										</p>
									</div>
									<div id="open-field-mention-legale" class="d-none">
										<div id="mention-legale"></div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="card col-lg">
						<div class="card-body">
							<div class="row">
							
                                <div class="">
									<div class="d-flex justify-content-between my-2" style="cursor:pointer;"  style="cursor:pointer;" onclick="toggleField('open-field-cgu')">
										<label for="" class="p-0 m-0">Remplir les Conditions général d’utilisations</label>
										<p class="p-0 m-0" style="cursor:pointer; px-3" onclick="toggleField('open-field-cgu')">
											<i class="mdi mdi-plus"></i>
										</p>
									</div>
									<div id="open-field-cgu" class="d-none">
										<div id="cgu"></div>
									</div>
								</div>

							</div>
						</div>
					</div>

					<div class="card col-lg" >
						<div class="card-body">
							<div class="row">
							
                                 <div class="">
									<div class="d-flex justify-content-between my-2" style="cursor:pointer;"  style="cursor:pointer;" onclick="toggleField('open-field-politique-config')">
										<label for="" class="p-0 m-0">Remplir les Politique de confidentialité</label>
										<p class="p-0 m-0" style="cursor:pointer; px-3" onclick="toggleField('open-field-politique-config')">
											<i class="mdi mdi-plus"></i>
										</p>
									</div>
									<div id="open-field-politique-config" class="d-none">
										<div id="politique-config"></div>
									</div>
								</div>


							</div>
						</div>
					</div>


                    <div class="card col-lg">
						<div class="card-body">
                            <button class="btn btn-primary" onclick="createContent()">Mise a jour</button>
                        </div>
					</div>


                    

				</div>

			</div>
			<!-- END ROW -->


		</div>


	</div>

	<script src="{{ asset('_dashboard/assets/libs/jquery/jquery.min.js') }}"></script>
	<script src="{{ asset('plugins/trumbowyg/dist/trumbowyg.min.js')}}"></script>
	<script src="{{ asset('custom-js/toggle.field.js')}}"></script>

	<!-- Include the Quill library -->
	<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
	<script src="{{ asset('custom-js/quill.map.field.js')}}"></script>

	<!-- Initialize Quill editor -->
	<script>
		// customize the clipboard behavior


		const delta_cgv = quill_cgv.clipboard.convert(`{{configuration.getConditionGeneraleVente|raw  }}`)
		quill_cgv.setContents(delta_cgv)

		const delta_mention = quill_mention.clipboard.convert(`{{configuration.getMentionsLegales|raw  }}`)
		quill_mention.setContents(delta_mention)

		const delta_cgu = quill_cgu.clipboard.convert(`{{configuration.getConditionGeneraleUtilisation|raw  }}`)
		quill_cgu.setContents(delta_cgu)

		const delta_politique = quill_politique.clipboard.convert(`{{configuration.getPolitiqueConfidentialite|raw  }}`)
		quill_politique.setContents(delta_politique)

	</script>

	<script src="{{ asset('custom-js/create-content.js')}}"></script>
{% endblock %}
